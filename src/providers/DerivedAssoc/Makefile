##
## Makefile generated by genmak version 2.0.8
##

TOP = ../../..

include $(TOP)/mak/config.mak

MODULE=1
SHARED_LIBRARY=cmplderivedassoc

##
## Define source files for compile and link
##

SOURCES += CMPL_Base.cpp
SOURCES += CMPL_Derived.cpp
SOURCES += CMPL_Other.cpp
SOURCES += CMPL_Assoc.cpp
SOURCES += repository.cpp
SOURCES += CMPL_Base_Provider.cpp
SOURCES += CMPL_Derived_Provider.cpp
SOURCES += CMPL_Other_Provider.cpp
SOURCES += CMPL_Assoc_Provider.cpp
SOURCES += module.cpp

##
## Module defined as Pegasus C++ interface
##
CIMPLE_PEGASUS_MODULE=1
DEFINES += -DCIMPLE_PEGASUS_MODULE

LIBRARIES += cimplepegadap
LIBRARIES += cimple

include $(TOP)/mak/rules.mak

genproj:
	genproj cmplderivedassoc -F classlist.txt

genclass:
	$(BINDIR)/genclass -r  -F classlist.txt

genprov:
	$(BINDIR)/genprov -F classlist.txt

genmod:
	$(BINDIR)/genmod  -v cmplderivedassoc -F classlist.txt

regmod:
	$(BINDIR)/regmod -n root/cimv2 -c $(TARGET)

unregister:
	$(BINDIR)/regmod -v -n root/cimv2 -u -i $(TARGET)


live:
	$(CIMCLI) ei CMPL_Base -count 4 --sum
	$(CIMCLI) ei CMPL_Derived -count 2 --sum
	$(CIMCLI) ei CMPL_Other -count 2 --sum
	$(CIMCLI) ei CMPL_Assoc -count 2 --sum
	$(CIMCLI) r CMPL_Base.Key=1 -count 1 --sum
	$(CIMCLI) rn CMPL_Base.Key=1 -count 1 --sum

live2:
	$(CIMCLI) r CMPL_Derived.Key=10 -count 1 --sum
	$(CIMCLI) a CMPL_Derived.key=10 -count 1 --sum

live3:
	$(CIMCLI) gi CMPL_Base.Key=1
	$(CIMCLI) gi CMPL_Derived.Key=10
